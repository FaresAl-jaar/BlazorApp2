version: '3.8'

services:
  pdf-manager:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "8086:8086"
    volumes:
      - pdf-data:/app/data
      - ./BlazorApp2/Config:/app/Config
    environment:
      ASPNETCORE_ENVIRONMENT: Production
      ConnectionStrings__DefaultConnection: "Data Source=/app/data/pdfmanager.db"
      LobsterApi__BaseUrl: "${LOBSTER_API_URL:-https://your-lobster-api.example.com}"
      LobsterApi__SubmitEndpoint: "/api/documents/upload"
      LobsterApi__ApiKey: "${LOBSTER_API_KEY:-}"
    restart: unless-stopped

volumes:
  pdf-data:
